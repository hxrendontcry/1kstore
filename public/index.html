<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1K Store | ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏°‡πÑ‡∏≠‡∏î‡∏µ‡πÄ‡∏Å‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Kanit', sans-serif;
        }

        /* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏•‡πÑ‡∏õ‡∏°‡∏≤ */
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800">

    <nav class="bg-white shadow-md p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a href="/" class="text-3xl font-black tracking-tighter hover:scale-105 transition-transform duration-300">
                <span
                    class="bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-400 to-blue-600 bg-[length:200%_auto] animate-[gradient_3s_ease-in-out_infinite]">
                    1K
                </span>
                <span class="text-slate-700">STORE</span>
            </a>

            <div class="space-x-4 font-semibold">
                <a href="#" class="text-gray-500 hover:text-blue-600">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <a href="#" class="text-gray-500 hover:text-blue-600">‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</a>
                <a href="login.html"
                    class="bg-blue-600 text-white px-5 py-2 rounded-full hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition">
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                </a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto mt-8 p-4">
        <div
            class="bg-gradient-to-r from-blue-600 to-cyan-500 rounded-2xl p-10 text-white text-center shadow-xl relative overflow-hidden">
            <div
                class="absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10">
            </div>

            <h1 class="text-4xl md:text-6xl font-black mb-4 drop-shadow-md">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà 1K STORE</h1>
            <p class="text-xl opacity-90">‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢‡πÑ‡∏≠‡∏î‡∏µ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 24 ‡∏ä‡∏°.</p>
        </div>
    </div>

    <div class="container mx-auto p-4 mt-8 pb-20">
        <h2 class="text-2xl font-black text-blue-900 border-l-8 border-blue-500 pl-4 mb-8">
            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á üöÄ
        </h2>

        <div id="product-grid" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <div class="col-span-full text-center text-gray-400 py-10 animate-pulse">
                ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...
            </div>
        </div>
    </div>
    <script>
        async function loadProducts() {
            try {
                const res = await fetch('/api/get_products');
                const products = await res.json();

                const container = document.getElementById('product-grid');

                if (products.length === 0) {
                    container.innerHTML = `<div class="col-span-full text-center text-gray-500">‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</div>`;
                    return;
                }

                // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î" ‡∏≠‡∏≠‡∏Å
                container.innerHTML = '';

                // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                products.forEach(p => {
                    // ‡πÄ‡∏≠‡∏≤‡∏£‡∏π‡∏õ‡πÅ‡∏£‡∏Å‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏ó‡∏ô)
                    const firstImage = (p.images && p.images.length > 0) ? p.images[0] : 'https://via.placeholder.com/300?text=No+Image';
const html = `
    <div class="bg-white ...">
        <div class="p-5">
            <div class="flex justify-between items-center">
                <span class="text-2xl font-black text-blue-600">‡∏ø${p.price}</span>
                
                <a href="/product.html?id=${p.id}" class="bg-slate-800 text-white px-4 py-2 rounded-lg font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-500/20">
                    ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î >
                </a>
            </div>
        </div>
    </div>
`;
                    container.innerHTML += html;
                });

            } catch (err) {
                console.error(err);
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
        loadProducts();

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏î‡∏ã‡∏∑‡πâ‡∏≠ (‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏°‡∏≤‡∏ó‡∏≥‡∏ï‡πà‡∏≠)
        function buyProduct(id) {
            // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏¢‡∏±‡∏á?
            const user = localStorage.getItem('username');
            if (!user) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö');
                window.location.href = '/login.html';
                return;
            }
            // ‡∏ñ‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô (‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏ó‡∏≥ Step ‡∏´‡∏ô‡πâ‡∏≤)
            alert('‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ID: ' + id + '\n(‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏°‡∏≤‡∏ó‡∏≥‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö)');
        }
    </script>
</body>

</html>